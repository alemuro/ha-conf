icon: 'mdi:home'
title: Casa
path: home
badges: []
panel: true
cards:
  - type: vertical-stack
    cards:
      - type: custom:layout-card
        layout: horizontal
        min_columns: 1
        max_columns: 2
        cards:
          # - type: conditional
          #   conditions:
          #     - entity: sensor.time
          #       state: 
          - template: title_h1
            type: "custom:decluttering-card"
            variables:
              - title: Bon dia
          - type: markdown
            content: " "
            style: |
              ha-card {
                background: rgba(0,0,0,0);
                box-shadow: none;
                height: 0px;
              }

      - type: custom:layout-card
        layout: vertical
        min_columns: 1
        max_columns: 1
        cards:
          - type: custom:simple-weather-card
            entity: weather.dark_sky
            name: "Horta (Barcelona)"
            backdrop: true
            style: |
              ha-card {
                margin-left: 5px;
                margin-right: 5px;
              }

          - type: conditional
            conditions:
              - entity: media_player.tele
                state_not: "off"
            card:
              type: "custom:mini-media-player"
              entity: media_player.tele
              icon: 'mdi:television-classic'
              artwork: cover
              name: Televisor menjador
              hide:
                volume: true
                source: false
                progress: true
                power_state: true
                controls: true
              style: |
                ha-card {
                  margin-left: 5px;
                  margin-right: 5px;
                }

          - type: conditional
            conditions:
              - entity: media_player.spotify_aleix_murtra
                state_not: "idle"
            card:
              type: custom:mini-media-player
              entity: media_player.spotify_aleix_murtra
              icon: mdi:spotify
              artwork: cover
              hide:
                volume: true
                source: true
                progress: true
                power_state: true
              style: |
                ha-card {
                  margin-left: 5px;
                  margin-right: 5px;
                }


      - type: custom:layout-card
        layout: vertical
        min_columns: 1
        max_columns: 3
        cards:




          ##################
          ## DISPOSITIUS  ##
          ##################

          - type: vertical-stack
            cards:
              - template: title_h2
                type: "custom:decluttering-card"
                variables:
                  - title: Dispositius

              - type: entities
                show_header_toggle: false
                style: |
                  ha-card {
                    margin-left: 5px;
                    margin-right: 5px;
                  }
                entities:
                  - entity: light.mesa
                    name: Taula
                    show_state: false
                    icon: "mdi:ceiling-light"
                    type: "custom:multiple-entity-row"
                    entities:
                      - icon: "mdi:lightbulb-off-outline"
                        state_color: false
                        tap_action:
                          action: call-service
                          service: light.turn_off
                          service_data:
                            entity_id: light.mesa
                      - icon: "mdi:lightbulb-outline"
                        state_color: true
                        tap_action:
                          action: call-service
                          service: light.turn_on
                          service_data:
                            entity_id: light.mesa
                  - entity: light.sofa
                    name: Sof√†
                    show_state: false
                    icon: "mdi:floor-lamp"
                    type: "custom:multiple-entity-row"
                    entities:
                      - icon: "mdi:lightbulb-off-outline"
                        state_color: false
                        tap_action:
                          action: call-service
                          service: light.turn_off
                          service_data:
                            entity_id: light.sofa
                      - icon: "mdi:lightbulb-outline"
                        state_color: true
                        tap_action:
                          action: call-service
                          service: light.turn_on
                          service_data:
                            entity_id: light.sofa
                  - entity: light.mesita
                    name: Tauleta
                    show_state: false
                    icon: "mdi:lightbulb"
                    type: "custom:multiple-entity-row"
                    entities:
                      - icon: "mdi:lightbulb-off-outline"
                        state_color: false
                        tap_action:
                          action: call-service
                          service: light.turn_off
                          service_data:
                            entity_id: light.mesita
                      - icon: "mdi:lightbulb-outline"
                        state_color: true
                        tap_action:
                          action: call-service
                          service: light.turn_on                 
                          service_data:
                            entity_id: light.mesita
                  - type: section
                  - entity: light.encimera
                    name: Marbre cuina
                    show_state: false
                    icon: "mdi:lightbulb"
                    type: "custom:multiple-entity-row"
                    entities:
                      - icon: "mdi:lightbulb-off-outline"
                        state_color: false
                        tap_action:
                          action: call-service
                          service: light.turn_off
                          service_data:
                            entity_id: light.encimera
                      - icon: "mdi:lightbulb-outline"
                        state_color: true
                        tap_action:
                          action: call-service
                          service: light.turn_on
                          service_data:
                            entity_id: light.encimera
                  - type: section
                  - entity: light.entrada
                    name: Entrada
                    show_state: false
                    icon: "mdi:lightbulb"
                    type: "custom:multiple-entity-row"
                    entities:
                      - icon: "mdi:lightbulb-off-outline"
                        state_color: false
                        tap_action:
                          action: call-service
                          service: light.turn_off
                          service_data:
                            entity_id: light.entrada
                      - icon: "mdi:lightbulb-outline"
                        state_color: true
                        tap_action:
                          action: call-service
                          service: light.turn_on
                          service_data:
                            entity_id: light.entrada

                  - entity: light.gateway_light
                    name: Entrada petita
                    show_state: false
                    icon: "mdi:hubspot"
                    type: "custom:multiple-entity-row"
                    entities:
                      - icon: "mdi:lightbulb-off-outline"
                        state_color: false
                        tap_action:
                          action: call-service
                          service: light.turn_off
                          service_data:
                            entity_id: light.gateway_light
                      - icon: "mdi:lightbulb-outline"
                        state_color: true
                        tap_action:
                          action: call-service
                          service: light.turn_on
                          service_data:
                            entity_id: light.gateway_light




          ##################
          ## SCENES / AUT ##
          ##################

          - type: vertical-stack
            cards:
              - template: title_h2
                type: "custom:decluttering-card"
                variables:
                  - title: Escenes

              - type: glance
                show_state: false
                columns: 6
                style: |
                  ha-card {
                    margin-left: 5px;
                    margin-right: 5px;
                  }
                entities:
                  - entity: scene.buenos_dias
                    icon: "mdi:weather-sunny"
                    name: Bon dia
                    tap_action:
                      action: call-service
                      service: scene.turn_on
                      service_data:
                        entity_id: scene.buenos_dias
                  - entity: scene.juegos_de_mesa
                    icon: "mdi:chess-knight"
                    name: Jocs
                    tap_action:
                      action: call-service
                      service: scene.turn_on
                      service_data:
                        entity_id: scene.juegos_de_mesa
                  - entity: scene.con_amigos
                    icon: "mdi:account-group"
                    name: Amics
                    tap_action:
                      action: call-service
                      service: scene.turn_on
                      service_data:
                        entity_id: scene.con_amigos
                  - entity: scene.relax
                    icon: "mdi:book-open-page-variant"
                    name: Relax
                    tap_action:
                      action: call-service
                      service: scene.turn_on
                      service_data:
                        entity_id: scene.relax
                  - entity: scene.cena
                    icon: "mdi:silverware-fork-knife"
                    name: Sopar
                    tap_action:
                      action: call-service
                      service: scene.turn_on
                      service_data:
                        entity_id: scene.cena
                  - entity: scene.tele
                    icon: "mdi:television-classic"
                    name: Cine
                    tap_action:
                      action: call-service
                      service: scene.turn_on
                      service_data:
                        entity_id: scene.tele












          - break


              ##################
              ## TEMPERATURES ##
              ##################

          - type: vertical-stack
            cards:
              - template: title_h2
                type: "custom:decluttering-card"
                variables:
                  - title: Temperatures

              - type: entities
                style: |
                  ha-card {
                    margin-left: 5px;
                    margin-right: 5px;
                  }
                entities:
                  - entity: sensor.menjador_temperature_mqtt                    
                    type: custom:multiple-entity-row
                    name: Menjador
                    entities:
                      - entity: climate.menjador
                        name: false
                      - entity: sensor.menjador_humidity_mqtt
                        name: false
                  - entity: sensor.dormitori_temperature_mqtt                    
                    type: custom:multiple-entity-row
                    name: Dormitori
                    entities:
                      - entity: climate.dormitori
                        name: false
                      - entity: sensor.dormitori_humidity_mqtt
                        name: false
                  - entity: sensor.exterior_temperature_mqtt
                    type: custom:multiple-entity-row
                    name: Exterior
                    entities:
                      - entity: sensor.exterior_humidity_mqtt
                        name: false

              ##################
              ##   SENSORS    ##
              ##################

              - template: title_h2
                type: "custom:decluttering-card"
                variables:
                  - title: Sensors

              - type: entities
                style: |
                  ha-card {
                    margin-left: 5px;
                    margin-right: 5px;
                  }
                entities:
                  - entity: camera.escala
                    icon: "mdi:cctv"
                  - entity: binary_sensor.door_main_entrance 
                    icon: "mdi:door-closed"
                  - entity: binary_sensor.motion_entrance 
                    icon: "mdi:motion-sensor"
                  - entity: binary_sensor.motion_kitchen 
                    icon: "mdi:motion-sensor"
                  - entity: binary_sensor.window_dinningroom 
                    icon: "mdi:window-closed"
                  - entity: binary_sensor.window_bedroom 
                    icon: "mdi:window-closed"

          - break

          ##################
          ##  ASPIRADOR   ##
          ##################
          - type: vertical-stack
            cards:
              - template: title_h2
                type: "custom:decluttering-card"
                variables:
                  - title: Aspirador

              - type: entities
                show_header_toggle: false
                style: |
                  ha-card {
                    margin-left: 5px;
                    margin-right: 5px;
                  }
                entities:
                  - entity: input_boolean.vacuum_enable_mon
                    name: Control
                    show_state: false
                    icon: "mdi:robot-vacuum"
                    type: "custom:multiple-entity-row"
                    entities:
                      - entity: input_boolean.vacuum_enable_turbo_mon
                        name: false
                        icon: "mdi:fan"
                        tap_action:
                          action: call-service
                          service: shell_command.aspirador_turbo
                      - entity: input_boolean.vacuum_enable_turbo_mon
                        name: false
                        icon: "mdi:flash-off"
                        tap_action:
                          action: call-service
                          service: shell_command.aspirador_off
                      - entity: input_boolean.vacuum_enable_turbo_mon
                        name: false
                        icon: "mdi:flash"
                        tap_action:
                          action: call-service
                          service: shell_command.aspirador_on

                  - type: section

                  - entity: input_boolean.vacuum_enable_mon
                    name: Dilluns
                    show_state: false
                    icon: "mdi:robot-vacuum"
                    type: "custom:multiple-entity-row"
                    entities:
                      - entity: input_datetime.vacuum_schedule_time_mon
                        name: false
                      - entity: input_boolean.vacuum_enable_turbo_mon
                        name: false
                        icon: "mdi:fan"
                        state_color: true
                        tap_action:
                          action: toggle
                      - entity: input_boolean.vacuum_enable_mon
                        name: false
                        icon: "mdi:clock-outline"
                        state_color: true
                        tap_action:
                          action: toggle
                  - entity: input_boolean.vacuum_enable_tue
                    name: Dimarts
                    show_state: false
                    icon: "mdi:robot-vacuum"
                    type: "custom:multiple-entity-row"
                    entities:
                      - entity: input_datetime.vacuum_schedule_time_tue
                        name: false
                      - entity: input_boolean.vacuum_enable_turbo_tue
                        name: false
                        icon: "mdi:fan"
                        state_color: true
                        tap_action:
                          action: toggle
                      - entity: input_boolean.vacuum_enable_tue
                        name: false
                        icon: "mdi:clock-outline"
                        state_color: true
                        tap_action:
                          action: toggle
                  - entity: input_boolean.vacuum_enable_wed
                    name: Dimecres
                    show_state: false
                    icon: "mdi:robot-vacuum"
                    type: "custom:multiple-entity-row"
                    entities:
                      - entity: input_datetime.vacuum_schedule_time_wed
                        name: false
                      - entity: input_boolean.vacuum_enable_turbo_wed
                        name: false
                        icon: "mdi:fan"
                        state_color: true
                        tap_action:
                          action: toggle
                      - entity: input_boolean.vacuum_enable_wed
                        name: false
                        icon: "mdi:clock-outline"
                        state_color: true
                        tap_action:
                          action: toggle
                  - entity: input_boolean.vacuum_enable_thu
                    name: Dijous
                    show_state: false
                    icon: "mdi:robot-vacuum"
                    type: "custom:multiple-entity-row"
                    entities:
                      - entity: input_datetime.vacuum_schedule_time_thu
                        name: false
                      - entity: input_boolean.vacuum_enable_turbo_thu
                        name: false
                        icon: "mdi:fan"
                        state_color: true
                        tap_action:
                          action: toggle
                      - entity: input_boolean.vacuum_enable_thu
                        name: false
                        icon: "mdi:clock-outline"
                        state_color: true
                        tap_action:
                          action: toggle
                  - entity: input_boolean.vacuum_enable_fri
                    name: Divendres
                    show_state: false
                    icon: "mdi:robot-vacuum"
                    type: "custom:multiple-entity-row"
                    entities:
                      - entity: input_datetime.vacuum_schedule_time_fri
                        name: false
                      - entity: input_boolean.vacuum_enable_turbo_fri
                        name: false
                        icon: "mdi:fan"
                        state_color: true
                        tap_action:
                          action: toggle
                      - entity: input_boolean.vacuum_enable_fri
                        name: false
                        icon: "mdi:clock-outline"
                        state_color: true
                        tap_action:
                          action: toggle
                  - entity: input_boolean.vacuum_enable_sat
                    name: Dissabte
                    show_state: false
                    icon: "mdi:robot-vacuum"
                    type: "custom:multiple-entity-row"
                    entities:
                      - entity: input_datetime.vacuum_schedule_time_sat
                        name: false
                      - entity: input_boolean.vacuum_enable_turbo_sat
                        name: false
                        icon: "mdi:fan"
                        state_color: true
                        tap_action:
                          action: toggle
                      - entity: input_boolean.vacuum_enable_sat
                        name: false
                        icon: "mdi:clock-outline"
                        state_color: true
                        tap_action:
                          action: toggle
                  - entity: input_boolean.vacuum_enable_sun
                    name: Diumenge
                    show_state: false
                    icon: "mdi:robot-vacuum"
                    type: "custom:multiple-entity-row"
                    entities:
                      - entity: input_datetime.vacuum_schedule_time_sun
                        name: false
                      - entity: input_boolean.vacuum_enable_turbo_sun
                        name: false
                        icon: "mdi:fan"
                        state_color: true
                        tap_action:
                          action: toggle
                      - entity: input_boolean.vacuum_enable_sun
                        name: false
                        icon: "mdi:clock-outline"
                        state_color: true
                        tap_action:
                          action: toggle